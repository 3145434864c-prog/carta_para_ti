<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Para ti ðŸ’–</title>
  <style>
    :root{
      --bg1:#ff9a9e; /* rosa */
      --bg2:#fad0c4; /* melocotÃ³n */
      --bg3:#fbc2eb; /* lila rosa */
      --card:#ffffffdd;
      --text:#1f2937;
      --accent:#ff4d6d;
      --accent-2:#ff8fa3;
      --shadow: 0 20px 60px rgba(0,0,0,.18);
    }

    /* Fondo con gradiente animado */
    body{
      margin:0; min-height:100vh; overflow:hidden;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      color:var(--text);
      background: linear-gradient(120deg, var(--bg1), var(--bg2), var(--bg3));
      background-size: 200% 200%;
      animation: bgMove 18s ease-in-out infinite;
      display:grid; place-items:center;
    }
    @keyframes bgMove{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

    /* Corazones flotantes */
    .hearts{ position:fixed; inset:0; pointer-events:none; overflow:hidden; }
    .heart{ position:absolute; width:22px; height:22px; transform:rotate(45deg); opacity:.9; }
    .heart::before, .heart::after{
      content:""; position:absolute; width:22px; height:22px; border-radius:50%;
      background: radial-gradient(circle at 30% 30%, #fff8, transparent 60%), var(--accent);
    }
    .heart::before{ left:-50%; }
    .heart::after{ top:-50%; }
    @keyframes floatUp{ to { transform: translateY(-110vh) rotate(45deg); opacity: .05; } }

    /* Tarjeta principal */
    .card{
      position:relative; width:min(680px, 92vw); padding:28px 28px 32px; border-radius:28px;
      background: linear-gradient(180deg, #fff8, #fff6) padding-box, linear-gradient(120deg, #ffffffaa, #ffffff22) border-box;
      border:1px solid #ffffff88; backdrop-filter: blur(10px);
      box-shadow: var(--shadow);
      text-align:center;
    }

    .title{
      display:flex; align-items:center; justify-content:center; gap:12px; margin:2px 0 12px;
      font-weight:800; font-size: clamp(20px, 4.5vw, 34px);
      letter-spacing:.5px;
    }

    .pulse-heart{ width:34px; height:34px; color:var(--accent); }
    .pulse{
      animation: pulse 1.2s ease-in-out infinite;
      filter: drop-shadow(0 6px 18px rgba(255,77,109,.35));
    }
    @keyframes pulse{ 0%,100%{ transform: scale(1);} 50%{ transform: scale(1.18);} }

    .message{ 
      margin: 10px auto 0; min-height:130px; max-width:56ch; 
      font-size: clamp(16px, 2.7vw, 20px); line-height:1.6; font-weight:500;
      white-space: pre-wrap; text-wrap: pretty;
    }

    .signature{ margin-top:18px; font-size:14px; opacity:.8 }

    .actions{ display:flex; gap:12px; justify-content:center; margin-top:18px; flex-wrap:wrap }
    .btn{ 
      border:none; cursor:pointer; padding:12px 18px; border-radius:999px; font-weight:700; 
      background:linear-gradient(135deg, var(--accent), var(--accent-2)); color:white;
      box-shadow: 0 10px 24px rgba(255,77,109,.35); transform: translateY(0); transition:.25s ease; 
    }
    .btn:hover{ transform: translateY(-2px); box-shadow: 0 14px 30px rgba(255,77,109,.45); }
    .btn.ghost{ background:#ffffffdd; color:var(--accent); box-shadow: 0 8px 22px rgba(0,0,0,.08); border:1px solid #ffd3dd; }

    /* Canvas de confeti */
    #confetti{ position:fixed; inset:0; pointer-events:none; }

    /* Pie de pÃ¡gina mini */
    .hint{ position:fixed; bottom:12px; left:50%; transform:translateX(-50%); font-size:12px; opacity:.8 }

    /* Responsivo */
    @media (max-width:420px){ .message{ min-height: 150px } }
  </style>
</head>
<body>
  <canvas id="confetti"></canvas>
  <div class="hearts" id="hearts"></div>

  <main class="card" role="main" aria-live="polite">
    <div class="title">
      <svg class="pulse-heart pulse" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
        <path d="M12 21s-6.716-4.254-9.193-7.59C.454 10.702 1.3 6.9 4.44 5.29c2.1-1.09 4.58-.46 5.96 1.11C11.98 4.83 14.46 4.2 16.56 5.29c3.14 1.61 3.99 5.41 1.63 8.12C18.716 16.746 12 21 12 21z"/>
      </svg>
      <span>Para ti, mi queen</span>
    </div>

    <div id="message" class="message" aria-label="Mensaje"></div>
    <div class="signature" id="signature">â€” Con todo mi cariÃ±o, cesar ðŸ’Œ</div>

    <div class="actions">
      <button class="btn" id="reveal">Abrir mensaje</button>
      <button class="btn ghost" id="again" hidden>Leer otra vez</button>
    </div>
  </main>

  <div class="hint">Toca "Abrir mensaje" y sube el volumen del corazÃ³n ðŸ’—</div>

  <script>
    // ===== Texto del mensaje (puedes editar estas lÃ­neas) =====
    const lineas = [
      "Hola, mi vida. ðŸŒ·",
      "Gracias por ser mi lugar favorito, incluso en los dÃ­as difÃ­ciles.",
      "Eres mi sonrisa de la maÃ±ana y mi paz por la noche.",
      "Hoy y siempre: te elijo a ti. ðŸ’«",
      "Con todo mi cariÃ±o, Cesar ðŸ’–"
    ];
    const firma = "â€” Con todo mi cariÃ±o ðŸ’Œ"; // Modifica tu firma aquÃ­

    // ===== LÃ³gica de tipeo =====
    const messageEl = document.getElementById('message');
    const signatureEl = document.getElementById('signature');
    const btnReveal = document.getElementById('reveal');
    const btnAgain = document.getElementById('again');

    function sleep(ms){ return new Promise(r=>setTimeout(r, ms)); }

    async function typeLine(text, speed=26){
      for(let i=0;i<text.length;i++){
        messageEl.textContent += text[i];
        await sleep(speed);
      }
      messageEl.textContent += "\n\n";
    }

    async function showMessage(){
      btnReveal.disabled = true; btnReveal.textContent = 'Abriendoâ€¦';
      signatureEl.textContent = '';
      messageEl.textContent = '';
      celebrate();
      for(const linea of lineas){
        await typeLine(linea);
        await sleep(300);
      }
      signatureEl.textContent = firma;
      btnAgain.hidden = false; btnAgain.disabled = false; btnAgain.textContent = 'Leer otra vez';
      btnReveal.textContent = 'Â¡Te amo!';
    }

    btnReveal.addEventListener('click', showMessage);
    btnAgain.addEventListener('click', ()=>{
      messageEl.textContent = '';
      signatureEl.textContent = '';
      showMessage();
    });

    // ===== Corazones flotantes =====
    const hearts = document.getElementById('hearts');
    function spawnHeart(){
      const h = document.createElement('div');
      h.className = 'heart';
      const size = Math.random()*16 + 12; // 12â€“28px
      h.style.width = h.style.height = size + 'px';
      h.style.left = Math.random()*100 + 'vw';
      h.style.bottom = '-40px';
      h.style.opacity = Math.random() * 0.8 + 0.2;
      h.style.animation = `floatUp ${8 + Math.random()*6}s linear forwards`;
      hearts.appendChild(h);
      setTimeout(()=>h.remove(), 15000);
    }
    // Genera algunos corazones por segundo
    setInterval(spawnHeart, 600);
    for(let i=0;i<12;i++) spawnHeart();

    // ===== Confeti sencillo =====
    const canvas = document.getElementById('confetti');
    const ctx = canvas.getContext('2d');
    let W, H; function resize(){ W = canvas.width = innerWidth; H = canvas.height = innerHeight; }
    addEventListener('resize', resize); resize();

    let particles = [];
    function celebrate(){
      const count = 140;
      particles.push(...Array.from({length:count}, (_,i)=>makeParticle()));
      if(!animating){ animating = true; requestAnimationFrame(tick); }
    }

    function makeParticle(){
      const angle = Math.random()*Math.PI*2;
      const speed = 4 + Math.random()*6;
      return {
        x: W/2, y: H/2,
        vx: Math.cos(angle)*speed,
        vy: Math.sin(angle)*speed - 2,
        g: 0.12 + Math.random()*0.08,
        size: 4 + Math.random()*6,
        rot: Math.random()*Math.PI,
        vr: (Math.random()-.5)*0.2,
        life: 120 + Math.random()*60,
        shape: Math.random()<0.5 ? 'rect' : 'circle'
      }
    }

    let animating = false;
    function tick(){
      ctx.clearRect(0,0,W,H);
      particles.forEach((p)=>{
        p.vy += p.g; p.x += p.vx; p.y += p.vy; p.rot += p.vr; p.life -= 1;
        ctx.save();
        ctx.translate(p.x, p.y); ctx.rotate(p.rot);
        ctx.globalAlpha = Math.max(p.life/180, 0);
        ctx.fillStyle = randomConfettiColor();
        if(p.shape==='rect') ctx.fillRect(-p.size/2, -p.size/2, p.size, p.size);
        else { ctx.beginPath(); ctx.arc(0,0,p.size/2,0,Math.PI*2); ctx.fill(); }
        ctx.restore();
      });
      particles = particles.filter(p=>p.life>0 && p.y < H+30 && p.x>-30 && p.x<W+30);
      if(particles.length){ requestAnimationFrame(tick); } else { animating = false; }
    }

    function randomConfettiColor(){
      // Colores suaves coordinados con el tema
      const palette = ['#ff4d6d','#ff8fa3','#ffd6e0','#fde2e4','#fbc2eb','#fad0c4','#e2f0cb'];
      return palette[(Math.random()*palette.length)|0];
    }
  </script>
</body>
</html>
